<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8">
  <title>Lesson 2 01 08</title>
</head>

<body>
  <h1>TITULO</h1>
  <p>PARAGRAFO</p>
  <div>DADOS</div>

  <script>
    console.log(this) // é window

    // Não funciona com arrow
    let exibeConteudo = () => {
      console.log(this)
      alert(this.textContent)
    }

    // Funciona sem arrow
    let exibeConteudo = function() {
      console.log(this)
      alert(this.textContent)
    }

    $ = document.querySelector.bind(document)
    $('h1').addEventListener('click', exibeConteudo)
    $('p').addEventListener('click', exibeConteudo)
    $('div').addEventListener('click', exibeConteudo)
  </script>

  <script>
    class SistemaImpressao {

      constructor() {
        this._codigo = 2
      }

      imprime(nomes) {

        // Não funciona sem arrow
        nomes.forEach(function(nome) {
          console.log(this)
          console.log(`${this._codigo}: ${nome}`)
        })

        // Funciona com arrow
        nomes.forEach(nome => {
          console.log(this)
          console.log(`${this._codigo}: ${nome}`)
        })
      }
    }

    let nomes = ['Flávio', 'Nico', 'Douglas']
    let si = new SistemaImpressao()
    si.imprime(nomes)
  </script>
</body>
</html>